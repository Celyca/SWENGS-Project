<div class="form">
  <form [formGroup]="eventForm" (ngSubmit)="saveEvent()">
  New Event: <br/>
  <input id="event" type="date" name="event" disabled [value]="clickedDay | date: 'yyyy-MM-dd'" class="form-control"/>

  <div class="row">
    <div class="col">
      <label for="offer">offer:</label>
    </div>
    <div class="col">
      <ngx-select id="offer" [items]="offerOptions" name="offer" [multiple]="false"
                  optionTextField="description" [allowClear]="false" (select)="change($event)" formControlName="offer"></ngx-select>
    </div>
  </div>

  <div class="row">
    <div class="col">
      <label for="offer">animal:</label>
    </div>
    <div class="col">
      <ngx-select id="animal" [items]="offerAnimals" name="animal" [multiple]="false"
                  optionTextField="name" [allowClear]="false" formControlName="animal"></ngx-select>
    </div>
  </div>
    <button type="submit" class="btn btn-primary" [disabled]="eventForm.invalid">Save</button>
  </form>
</div>
<br/>

<div *ngIf="!booking" mdbModal #basicModal="mdbModal" class="modal fade right" tabindex="-1" role="dialog" aria-labelledby="myBasicModalLabel"
     [config]='{backdrop: false, ignoreBackdropClick: false}'   aria-hidden="true">
  <div class="modal-dialog modal-full-height modal-right" role="document">
    <div class="modal-content" *ngIf="modal">
      <div class="modal-header">
        <button type="button" class="close pull-right" aria-label="Close" (click)="basicModal.hide()">
          <span aria-hidden="true">Ã—</span>
        </button>
        <h4 class="modal-title w-100" id="myModalLabel">{{modal.date}}</h4>
      </div>
      <div class="modal-body">
        {{modal.description}} <br/>
        <br/>
        Dauer: {{modal.duration}} Minuten
        <br/>


        Tier: <br/>
        <img  [src]="'/api/dto/animals/image/' + modal.animalId | image | async" class="img-thumbnail" style="width: 200px"
              onError="this.src='https://www.lieco.at/wp-content/uploads/2015/11/placeholder-300x225.png';" >
        <br/>
        {{modal.animalName}} {{modal.animalSpecies}} <br/>
        <br/>


        Betreuer: <br/>
        <img  [src]="'/api/dto/user/image/' + modal.employeeId | image | async" class="img-thumbnail" style="width: 200px"
              onError="this.src='https://www.lieco.at/wp-content/uploads/2015/11/placeholder-300x225.png';" >
        <br/>
        {{modal.employeeFirstName}} {{modal.employeeLastName}} <br/>

        <br/>
        Ort: <br/>
        {{modal.location.name}} <br/>
        {{modal.location.zip}} {{modal.location.city}} <br/>
        {{modal.location.address}} <br/>
        {{modal.location.phone}}

      </div>
      <div class="modal-footer justify-content-center">
        <button type="button" mdbBtn color="secondary" class="waves-light" aria-label="Close" (click)="basicModal.hide()" mdbWavesEffect>Close</button>
      </div>
    </div>
  </div >
</div >

<div class="page">
  <div *ngIf="calendarOptions">
    <ng-fullcalendar #ucCalendar [options]="calendarOptions" [(eventsModel)]="events" (dayClick)="clickDay($event.detail)" (eventClick)="clickEvent($event.detail); basicModal.show()"></ng-fullcalendar>
  </div>
</div>
